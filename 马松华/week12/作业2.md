## 情感mcp服务
```pycon
#!/usr/bin/python
# -*- coding: utf-8 -*-

"""
 Author: Marky
 Time: 2025/11/26 12:17 
 Description:
"""
from fastmcp import FastMCP
from typing_extensions import Annotated
import openai

mcp = FastMCP(
    name="Sentiment-MCP-Server",
    instructions="""This server contains some api of sentiment analysis.""",
)


@mcp.tool
def sentiment_classification(text: Annotated[str, "The text to analyze"]):
    """Classifies the sentiment of a given text."""
    deepseek_api_key = "sk-9f2df94461a741d1a71698c2c6703cd7"
    base_url = "https://api.deepseek.com"

    client = openai.OpenAI(
        api_key=deepseek_api_key,
        base_url=base_url
    )

    completion = client.chat.completions.create(
        model="deepseek-chat",
        messages=[
            {"role": "system",
             "content": "你是一个情感分析专家,请分析下面的文本是正面情感还是负面情感,直接输出情感类型,不要有其他内容输出,输出结果只有 正向情感 或者 负向情感"
             },
            {"role": "user",
             "content": text},
        ],
    )
    return completion.model_dump_json()

```


## 运行结果
![作业2.png](%E4%BD%9C%E4%B8%9A2.png)
