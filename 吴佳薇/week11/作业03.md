1.知识库文本块集合表
{
    "id": str,                          # 主键UUID
    "knowledge_base_id": str,           # 所属知识库ID
    "document_id": str,                 # 文档ID
    "page_number": int,                 # 页码
    "chunk_index": int,                 # 块索引（同一页内）
    "content": str,                     # 文本内容
    "content_type": str,                # 内容类型：paragraph/heading/caption/table_text
    "embedding": List[float],           # bge文本向量 (768维)
    "clip_text_embedding": List[float], # CLIP文本向量 (512维)
    "bounding_box": {                   # 在页面中的位置
        "x1": float, "y1": float,
        "x2": float, "y2": float
    },
    "metadata": {
        "font_size": float,
        "font_family": str,
        "is_bold": bool,
        "is_italic": bool,
        "confidence": float,            # OCR置信度
        "language": str
    },
    "created_time": str,
    "updated_time": str
}

2.知识库图像集合表
{
    "id": str,                          # 主键UUID
    "knowledge_base_id": str,           # 所属知识库ID
    "document_id": str,                 # 文档ID
    "page_number": int,                 # 页码
    "image_index": int,                 # 图片索引（同一页内）
    "image_path": str,                  # 图片存储路径
    "image_type": str,                  # 图片类型：chart/diagram/photo/table_image
    "caption": str,                     # 图片描述/OCR文本
    "clip_image_embedding": List[float], # CLIP图像向量 (512维)
    "bounding_box": {                   # 在页面中的位置
        "x1": float, "y1": float,
        "x2": float, "y2": float
    },
    "metadata": {
        "width": int,
        "height": int,
        "format": str,                  # png/jpg等
        "dpi": int,
        "color_mode": str,              # RGB/grayscale
        "has_text": bool,               # 是否包含文字
        "table_structure": dict,        # 表格结构（如果是表格图片）
        "confidence": float             # 图像质量置信度
    },
    "created_time": str,
    "updated_time": str
}

3.知识库表格集合表
{
    "id": str,                          # 主键UUID
    "knowledge_base_id": str,           # 所属知识库ID
    "document_id": str,                 # 文档ID
    "page_number": int,                 # 页码
    "table_index": int,                 # 表格索引（同一页内）
    "table_type": str,                  # 表格类型：structured/semi_structured
    "content": {                        # 表格结构化内容
        "headers": List[str],           # 表头
        "rows": List[List[str]],        # 行数据
        "merged_cells": List[dict]      # 合并单元格信息
    },
    "markdown_content": str,            # 表格的markdown表示
    "text_embedding": List[float],      # bge文本向量 (768维)
    "clip_text_embedding": List[float], # CLIP文本向量 (512维)
    "bounding_box": {                   # 在页面中的位置
        "x1": float, "y1": float,
        "x2": float, "y2": float
    },
    "metadata": {
        "row_count": int,
        "col_count": int,
        "has_header": bool,
        "extraction_method": str,       # OCR/structured_extraction
        "confidence": float,
        "related_image_id": str         # 关联的表格图片ID
    },
    "created_time": str,
    "updated_time": str
}

4.跨模态关联表
{
    "id": str,                          # 关联ID
    "source_id": str,                   # 源实体ID
    "source_type": str,                 # 源类型：text/image/table
    "target_id": str,                   # 目标实体ID
    "target_type": str,                 # 目标类型：text/image/table
    "relation_type": str,               # 关系类型：caption/description/reference/contain
    "confidence": float,                # 关系置信度
    "spatial_relation": str,            # 空间关系：above/below/left/right/inside
    "semantic_relation": str,           # 语义关系：explains/illustrates/contains
    "created_time": str
}

5.向量索引配置
# 文本向量索引 (bge)
{
    "index_type": "IVF_FLAT",
    "metric_type": "COSINE",
    "params": {"nlist": 1024}
}

# CLIP向量索引 (多模态)
{
    "index_type": "HNSW",
    "metric_type": "IP",  # Inner Product for CLIP
    "params": {"M": 16, "efConstruction": 200}

6.标量索引
- knowledge_base_id
- document_id  
- page_number
- content_type (文本)
- image_type (图像)
- table_type (表格)
- created_time
