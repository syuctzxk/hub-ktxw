# 存在的bug
- 没有检查prompt,如果新的prompt和原来已经存在的prompt完全一样，则会存在重复存储的行为。
Faiss会存储大量相同的向量，严重浪费空间，检索也会检索到大量重复的向量。Redis的list也会存储大量重复内容，浪费空间。

- Faiss的索引并没有与Redis的索引对齐，Faiss是按顺序插入的，但是Redis的pipe.lpush(self.name + "list", q)却是把后来的插入在前面，后面检索到的类容并不匹配，应该改为rpush

- filtered_ind = [i for i, d in enumerate(dis[0]) if d < self.distance_threshold] 应该将i改为 ind[0][i],ind[0][i]返回的才是其在Faiss中原来的索引位置

- 并没有保证Faiss和Redis的内容同步，如果存在Faiss和Redis内容不同步的情况，filtered_prompts = [pormpts[i] for i in filtered_ind]可能会出现i溢出原pormpts的范围

- clear_cache()如果在初始什么数据都没有的情况下，不应该运行，应该加入一个判断机制

- Faiss也应该加入过时机制，否则会存在Redis中某些内容已经过时，但Faiss却还存在大量不再使用的信息，导致内容不同步
